var Spandiv=Spandiv||{};!function(e){e.Resources={clockpicker:{css:"https://cdnjs.cloudflare.com/ajax/libs/clockpicker/0.0.7/bootstrap-clockpicker.min.css",js:"https://cdnjs.cloudflare.com/ajax/libs/clockpicker/0.0.7/bootstrap-clockpicker.min.js"},croppie:{css:"https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.css",js:"https://cdnjs.cloudflare.com/ajax/libs/croppie/2.6.5/croppie.min.js"},datepicker:{css:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css",js:"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"},daterangepicker:{css:"https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.css",js:["https://cdn.jsdelivr.net/momentjs/latest/moment.min.js","https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"]},pace:{css:"https://cdn.jsdelivr.net/npm/pace-js@latest/pace-theme-default.min.css",js:"https://cdn.jsdelivr.net/npm/pace-js@latest/pace.min.js"},jqueryui:{js:"https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"},quill:{css:"https://campusdigital.id/assets/plugins/quill/quill.snow.css",js:["https://campusdigital.id/assets/plugins/quill/quill.min.js","https://cdn.rawgit.com/kensnyder/quill-image-resize-module/3411c9a7/image-resize.min.js"]},select2:{css:"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css",js:"https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"},sweetalert2:{css:"https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css",js:"https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.js"}},e.EnableEverywhere=(()=>{e.Pace(),e.Tooltip(),e.Popover(),e.ButtonLogout(".btn-logout","#form-logout"),e.ButtonTogglePassword(".btn-toggle-password")}),e.LoadResources=((e,t=null)=>{var r=[],a=[].concat(e.css),o=[].concat(e.js);if(void 0!==e.css)for(i=0;i<a.length;i++){var s=document.createElement("link");s.rel="stylesheet",s.href=a[i],s.onload=l,document.head.appendChild(s),r.push(a[i])}if(void 0!==e.js)for(i=0;i<o.length;i++){var n=document.createElement("script");n.type="text/javascript",n.src=o[i],n.onload=l,document.body.appendChild(n),r.push(o[i])}function l(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(void 0!==this.href&&r.splice(r.indexOf(this.href),1),void 0!==this.src&&r.splice(r.indexOf(this.src),1),r.length||(null!==t&&t(),function(){if(a.length>0)for(i=0;i<a.length;i++){var e=document.querySelectorAll("link[href='"+a[i]+"']");if(e.length>1)for(j=1;j<e.length;j++)e[j].remove()}if(o.length>0)for(i=0;i<o.length;i++){var e=document.querySelectorAll("script[src='"+o[i]+"']");if(e.length>1)for(j=1;j<e.length;j++)e[j].remove()}}()))}}),e.ButtonDelete=((t,r)=>{$(document).on("click",t,function(t){t.preventDefault();var a=$(this).data("id");$(r).find("input[name=id]").val(a),e.SwalWarning("Anda yakin ingin menghapus data ini?",r)})}),e.ButtonLogout=((t,r)=>{$(document).on("click",t,function(t){t.preventDefault(),e.SwalWarning("Anda yakin ingin keluar?",r)})}),e.ButtonTogglePassword=(e=>{$(document).on("click",e,function(e){e.preventDefault();var t=$(this).parents(".input-group").find("input").attr("type"),r=$(this).parents(".input-group").find("i").attr("class");"password"===t?$(this).parents(".input-group").find("input").attr("type","text"):$(this).parents(".input-group").find("input").attr("type","password"),"bi-eye"===r?$(this).parents(".input-group").find("i").attr("class","bi-eye-slash"):$(this).parents(".input-group").find("i").attr("class","bi-eye")})}),e.CheckboxOne=(()=>{$(document).on("click",".dataTable .checkbox-one",function(){$(".dataTable .checkbox-all").prop("checked",!1)})}),e.CheckboxAll=(()=>{$(document).on("click",".dataTable .checkbox-all",function(){$(this).prop("checked")?$(".dataTable .checkbox-one").prop("checked",!0):$(".dataTable .checkbox-one").prop("checked",!1)})}),e.URL=((e,t={})=>{if(0===Object.keys(t).length)return e;var r=Object.keys(t),a=Object.values(t),o="";for(i=0;i<r.length;i++)o+=r[i]+"="+a[i],i+1!==r.length&&(o+="&");return e+"?"+o}),e.NumberFormat=(e=>{var t=e.replace(/[^.\d]/g,"").toString().split("."),r=t[0].length%3,a=t[0].substr(0,r),i=t[0].substr(r).match(/\d{3}/gi);return i&&(separator=r?",":"",a+=separator+i.join(",")),null!=t[1]?a+"."+t[1]:a}),e.Modal=(e=>{return bootstrap.Modal.getOrCreateInstance(document.querySelector(e))}),e.Tooltip=(()=>{[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map(function(e){return new bootstrap.Tooltip(e)})}),e.Popover=(()=>{[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map(function(e){return new bootstrap.Popover(e,{html:!0})})}),e.Toast=((e,t)=>{$(".toast-container").removeClass("d-none"),$(e).find(".toast-body").text(t),new bootstrap.Toast(document.querySelector(e)).show()}),e.Tab=(e=>{return bootstrap.Tab.getOrCreateInstance(document.querySelector(e))}),e.SwalWarning=((t,r)=>{e.LoadResources(e.Resources.sweetalert2,function(){Swal.fire({text:t,icon:"warning",allowOutsideClick:!1,showCancelButton:!0,confirmButtonText:"Ya",cancelButtonText:"Batal",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(e=>{e.isConfirmed&&$(r).submit()})})}),e.DataTable=((t,r={})=>{var a=[{orderable:!1,targets:0},{orderable:!1,targets:-1}];!0===r.orderAll&&(a=[]);var i=$(t).DataTable({processing:void 0!==r.serverSide&&r.serverSide,serverSide:void 0!==r.serverSide&&r.serverSide,ajax:void 0!==r.url&&!0===r.serverSide?r.url:null,columns:void 0!==r.columns&&!0===r.serverSide?r.columns:null,language:{lengthMenu:"Menampilkan _MENU_ data",zeroRecords:"Data tidak tersedia",info:"Menampilkan _START_ sampai _END_ dari total _TOTAL_ data",infoEmpty:"Data tidak ditemukan",infoFiltered:"(Terfilter dari total _MAX_ data)",search:"Cari:",paginate:{first:"Pertama",last:"Terakhir",previous:"<",next:">"},processing:"Memproses data..."},aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"Semua"]],pageLength:void 0!==r.pageLength?r.pageLength:10,rowsGroup:void 0!==r.rowsGroup?r.rowsGroup:null,orderCellsTop:!0,columnDefs:a,order:void 0!==r.order&&!0===r.serverSide?[r.order]:[]});return!0===r.serverSide&&i.on("draw.dt",function(){e.Tooltip()}),e.CheckboxOne(),e.CheckboxAll(),i}),e.Quill=(t=>{e.LoadResources(e.Resources.quill,function(){var e;return 1===$(t).length&&(e=new Quill(t,{modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],["link","image"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{color:[]},{background:[]}],["clean"]],imageResize:{displaySize:!0}},placeholder:"Tulis sesuatu...",theme:"snow",readOnly:!1})),e})}),e.DatePicker=(t=>{e.LoadResources(e.Resources.datepicker,function(){return $.fn.datepicker.dates.id={days:["Minggu","Senin","Selasa","Rabu","Kamis","Jum'at","Sabtu"],daysShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],daysMin:["Mi","Sn","Sl","Ra","Ka","Ju","Sa"],months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],today:"Hari Ini",clear:"Hapus",format:"dd/mm/yyyy",titleFormat:"MM yyyy",weekStart:0},$(t).datepicker({language:"id",format:"dd/mm/yyyy",todayHighlight:!0,autoclose:!0})})}),e.DateRangePicker=((t,r={})=>{e.LoadResources(e.Resources.daterangepicker,function(){return $(t).daterangepicker({timePicker:!0,timePicker24Hour:!0,showDropdowns:!0,startDate:void 0!==r.start?r.start:moment().startOf("hour"),endDate:void 0!==r.end?r.end:moment().startOf("hour").add(48,"hour"),locale:{format:"DD/MM/YYYY HH:mm"}})})}),e.ClockPicker=(t=>{e.LoadResources(e.Resources.clockpicker,function(){return $(t).clockpicker({autoclose:!0})})}),e.Select2=(t=>{e.LoadResources(e.Resources.select2,function(){return $(t).select2({width:"resolve",allowClear:!0})})}),e.Select2ServerSide=((t,r)=>($(window).on("load",function(){var e=r.value;$.ajax({type:"get",url:r.url,success:function(a){for(var i='<option value="" disabled selected>--Pilih--</option>',o=0;o<a.length;o++){var s=e===a[o][r.valueProp]?"selected":"";void 0!==r.bracketProp?i+='<option value="'+a[o][r.valueProp]+'" '+s+">"+a[o][r.nameProp]+" ("+a[o][r.bracketProp]+")</option>":i+='<option value="'+a[o][r.valueProp]+'" '+s+">"+a[o][r.nameProp]+"</option>"}$(t).html(i)}})}),e.Select2(t))),e.Sortable=(t=>{var r=$("input[name=_token]").val();e.LoadResources(e.Resources.jqueryui,function(){var e=$(t).sortable({items:"> div:not(.ui-state-disabled)",placeholder:"ui-state-highlight",start:function(e,t){$(this).find(".ui-state-highlight").css({height:$(t.item).outerHeight(),"margin-bottom":$(this).find(".ui-sortable-handle").css("margin-bottom")})},update:function(e,t){var a=$(this).data("url"),i=$(this).children(".ui-sortable-handle"),o=[];$(i).each(function(e,t){o.push($(t).data("id"))}),$.ajax({type:"post",url:a,data:{_token:r,ids:o},success:function(e){Spandiv.Toast("#toast-sort",e)}})}});return $(t).disableSelection(),e})}),e.Pace=(()=>{e.LoadResources(e.Resources.pace)}),e.Croppie=((e,t)=>{return $(e).croppie({viewport:{width:t.width,height:t.height,type:"square"==t.type||"circle"==t.type?t.type:"square"},boundary:{width:t.width,height:t.height}})}),e.CroppieBindFromURL=((e,t)=>{if(t.files&&t.files[0]){var r=new FileReader;r.onload=function(t){e.croppie("bind",{url:t.target.result})},r.readAsDataURL(t.files[0]),t.value=null}}),e.CroppieSubmit=((e,t)=>{e.croppie("result",{type:"base64",circle:!1}).then(function(e){$(t).find("input[name=image]").val(e),$(t).submit()})}),e.EnableEverywhere()}(Spandiv);